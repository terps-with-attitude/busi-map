<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>BusiMap</title>

    <style>
    	
	    html, body {
        height: 90%;
        margin: 0;
        padding: 0;
      }

    </style>

	<link href="css/bootstrap.min.css" rel="stylesheet">

	<style>
		
		#map-container { height: 80%; width: 73%; }
		#mapa {height: 0%}

	</style>

 <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAEN08blnUdsHk1DwIlV8h-ppLCsBDMJuE&callback=initMap&libraries=places"
    async defer></script>

  </head>

  <body>
    <div class="page-header">
      <h3 style="font-family: verdana; font-size: 170%;" id="header1"><strong>
        <div class="media"></div>
        <div class="media-left">
          <a href="#">
            <img class="media-object" src="http://images.penshop.co.uk/images/GF3223286000-giorgio-fedon-palmellato-grained-cowhide-leather-briefcase-brown.jpg" alt="" style="width:150px; height:150px; PADDING-LEFT: 10px;">
          </a>
        </div>
        <div class="media-left"></div><div class="media-left"></div>
        <div class="media-body">
          <h1 style="color: darkorange; font-size: 220%; font-family: impact" class="media-heading"><br>BusiMap</h1>
          <strong>An entrepreneur's guide to success through the establishment of businesses in minimally competitive and undersupplied regions </strong>
        </div>
      </strong><small><strong></strong></small></h3>
    </div>
  	

    <!-- This is the script to run when a check box is clicked -->
  	<script type="text/javascript">
      var placeMap = new Map();
      var markerArray = new Array();
  		function boxClicked(){
        console.log("ashdf");
          var location = {lat: 38.907864, lng:  -77.072151}
  				var items = document.getElementsByTagName("input");
  				var activeCategories = new Array();
  				var pos = 0;

  			for(var i = 0; i < items.length; i++){
  				if(items[i].checked){
  					activeCategories[i] = items[i].name;
  				}
  		  } 
  		  pullInData(location, activeCategories, markerArray, placeMap, map);
  		}

  	</script>
  
    <!-- This is the script to run when you add category -->
    <script type="text/javascript">
      

    var placeMap = new Map();
      var markerArray = new Array();


    var numberOfChecks = 0;
    var addCategory = function () {
      
      if(numberOfChecks < 10 && document.getElementById("checkboxName").value != ""){
      var newCheckbox = document.createElement("input");
      newCheckbox.type = "checkbox";
      newCheckbox.value = document.getElementById("checkboxName").value;
      newCheckbox.name = document.getElementById("checkboxName").value;
      newCheckbox.onclick   = function(){
        
          var location = {lat: 38.907864, lng:  -77.072151}
          var items = document.getElementsByTagName("input");
          var activeCategories = new Array();
          var pos = 0;

        for(var i = 0; i < items.length; i++){
          if(items[i].checked){
            activeCategories[i] = items[i].name;
          }
        } 
        pullInData(location, activeCategories, markerArray, placeMap, map);
      };
      
      document.getElementById("categories").appendChild(newCheckbox);

      var label = document.createElement('strong');
      label.htmlFor = document.getElementById("checkboxName").value;
      label.appendChild(document.createTextNode(document.getElementById("checkboxName").value));

      document.getElementById("categories").appendChild(label);
      document.getElementById("categories").appendChild(document.createElement("br"));
    }

      numberOfChecks++;
    }


    </script>

  	<div id="map-container" class="col-lg-9"></div>
  
	  <div class="col-lg-3">
    	             <div class="input-group" style="font-family: verdana; font-size: 150%">
              <strong>What category of business would you like to track?</strong><br>
  
         <div class = "input-group input-group-lg">

           <input class="form-control" id="checkboxName" placeholder="Enter business category here." style="font-family: verdana; font-size: 75%; width: 300px" type="text">
           <button id = add type="button" onclick="addCategory()"  class="btn btn-default" style="font-family: verdana; height: 130%;">Add</button>
         </div>
        <br>

      	<ul id = "categories" style="list-style: none; font-family: verdana; font-size: 100%;">
          <!-- <li><input onclick="boxClicked()" name ="fine dining" class = "food" type="checkbox"><strong> Fine dining</strong></li> 
        	<li><input type="checkbox" onclick="boxClicked()" name="fast food" class = "food"><strong> Fast food</strong></li>
        	<li><input type="checkbox" onclick="boxClicked()" name="buffet" class = "food"><strong> Buffet</strong></li> -->
      	</ul>
     		
    	</div><!-- /input-group -->
  	</div><!-- /.col-lg-1 -->

  	<!-- this is where the map is created and added-->
  <script type="text/javascript">
  	
  	var map;
    function initMap() {
      map = new google.maps.Map(document.getElementById('map-container'), {
        center: {lat: 38.907864, lng:  -77.072151},
        zoom: 14
      });
    }

  </script>

	<script src = categories.js></script>
  <script src = "pullInData.js"></script>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <!-- Include all compiled plugins -->
  <script src="js/bootstrap.min.js"></script>

  <div id = "mapa" class = "col-lg-0"></div>

  </body>

</html>